<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/login.css" />
		<link rel="stylesheet" type="text/css" href="css/layui.css" />
		<link rel="stylesheet" type="text/css" href="css/index.css" />
	</head>
	<body>
		<h1>适缘婚礼管理系统</h1>
		<div class="login_in">
			<li>账号 <input type="text" id="account"></li>
			<li>密码 <input type="text" id="password" /></li>
			<li>
				<p>忘记密码？请联系管理员修改</p>
			</li>
			<button class="layui-btn layui-btn-normal login_in_btn">登陆</button>
			<button class="layui-btn layui-btn-normal registration_btn">注册</button>
		</div>
		<!-- <script src="js/ajax.js" type="text/javascript" charset="utf-8"></script> -->
		<script src="js/1.8.3.jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			
			$(".login_in_btn").click(function() {
				// console.log(username);
				var username=$("#account").val();
				var password=$("#password").val();
				$.ajax('http://101.132.40.198:8181/login', {
					data: {
						username: username,
						password: password,
					},
					dataType: 'json', //服务器返回json格式数据
					type: 'post', //HTTP请求类型
					timeout: 10000, //超时时间设置为10秒；
					success: function(data) {
						console.log(data)
						console.log(data.msg);
						if($("#account").val()||$("#password").val()){
							if(data.msg=="登录成功"){
								console.log(2);
								window.open("index.html");
							}
						}else{
							alert("账号密码错误")
						}

					},
					error: function(error, Msgerror) {
						// console.log(Msgerror)
					}
				});
			})
			$(".registration_btn").click(function() {
				var username=$("#account").val();
				var password=$("#password").val();
				console.log(1);
				$.ajax('http://101.132.40.198:8181/register', {
					data: {
						username: username,
						password: password,
						iphone:"wode",
						email:"@",
					},
					dataType: 'json', //服务器返回json格式数据
					type: 'post', //HTTP请求类型
					timeout: 10000, //超时时间设置为10秒；
					success: function(data) {
						console.log(data)
						// alert("1")
					},
					error: function(error, Msgerror) {
						// console.log(Msgerror)
					}
				});
			})
		</script>
	</body>

</html>
